<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full-Screen Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/project.css">
</head>

<body>
    <div class="dashboard-container">
        <header>
            <h4>{{ project_name }}</h4>
        </header>
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('side-by-side')">Side-by-Side View</button>
            <button class="tab-button" onclick="openOverlayViewTab('overlay-view')">Overlay View</button>
            <button class="tab-button" onclick="openTab('map-view')">Map View</button>
            <button class="tab-button" onclick="openTab('detected-changes')">Detected Changes</button>
        </div>

        <div id="side-by-side" class="tab-content active">
            <!-- <h2>Side-by-Side View</h2> -->
            <div class="image-mask-container">
                <main>
                    <div class="mainCnt">

                        <!-- Left Hand Side -->
                        <div class="lhs d-flex align-items-center justify-content-center">
                            <!-- LHS Content -->
                            <div class="image-container" id="imageContainer">
                                <div class="row" id="imageGrid" data-project-name="{{ project_name }}"></div>
                            </div>
                        </div>

                        <!-- Divider -->
                        <div class="divider"></div>

                        <!-- Right Hand Side -->
                        <div class="rhs d-flex align-items-center justify-content-center">

                            <!-- Mask Container for the RHS -->
                            <div class="mask-container" id="maskContainer">
                                <div class="row" id="maskGrid"></div>
                            </div>

                            <!-- RHS Action Buttons -->
                            <div class="rhs-action-buttons" id="rhsActionButtons" style="display: none;">
                                <button class="btn btn-success" id="saveMask">Save Mask</button>
                            </div>
                        </div>

                    </div>
                </main>
            </div>
        </div>

        <div id="overlay-view" class="tab-content">
            <div class="overlay-container">
                <div class="image-container" id="imageContainer">
                    <div class="row" id="overlayGrid" data-project-name="{{ project_name }}"></div>
                </div>
            </div>
        </div>

        <div id="map-view" class="tab-content">
            <!-- <h2>Map View</h2> -->
            <div class="map-container">
                <p>Google Maps-like view here.</p>
                <select class="layer-select">
                    <option value="satellite">Satellite View</option>
                    <option value="road-mask">Road Mask</option>
                    <option value="detected-changes">Detected Changes</option>
                </select>
            </div>
        </div>

        <div id="detected-changes" class="tab-content align-items-center justify-content-center">

            <!-- Upload Button -->
            <div class="upload-container">
                <label for="imageUpload" class="custom-file-upload">
                    Upload Images
                </label>
                <input type="file" id="imageUpload" multiple accept="image/*" hidden
                    data-project-name="{{ project_name }}" />
            </div>

            <!-- Loading Spinner -->
            <div class="spinner-container" id="spinnerCnt">
                <h3>Detecting Changes</h3>
                <div class="spinner text-center">
                    <div class="spinner-border justify-content-center" role="status">
                    </div>
                </div>
            </div>


            <!-- Alert Messages -->
            <div id="alertMessages" class="alertMessages hidden">
                <ul class="alert-list">
                </ul>
            </div>
        </div>

        <a href="javascript:history.back()" class="btn btn-secondary back-button">Back</a>
        <a href="#" class="btn btn-primary edit-database-button">Edit Database</a>

    </div>

    <script src="/static/project.js"></script>
</body>

</html>